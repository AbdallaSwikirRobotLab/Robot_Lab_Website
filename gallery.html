<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Gallery</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Gallery | AIRoCS Lab | Mohamed bin Zayed University of Artificial Intelligence">
  <meta name="author" content="AIRoCS Lab">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="css/theme.css" rel="stylesheet">
  <style>
    /* Lightweight, Bootstrap-2 friendly tweaks */
    .subhead h1 {
      font-size: 1.6rem;
      line-height: 1.2;
      margin: .4em 0;
    }

    .gallery-toolbar {
      margin: 10px 0 18px;
    }

    .gallery-toolbar .controls {
      margin-bottom: 10px;
    }

    .gallery-toolbar .form-inline>input,
    .gallery-toolbar .form-inline>select,
    .gallery-toolbar .form-inline>button {
      margin-right: 8px;
      margin-bottom: 8px;
      vertical-align: middle;
    }

    .gallery-toolbar .form-inline>button {
      margin-right: 0;
    }

    .nav-toggle {
      display: none;
      background: #08c;
      color: #fff;
      border: 0;
      padding: 10px 12px;
      font-size: 15px;
      border-radius: 4px;
      font-weight: 600;
      text-transform: uppercase;
      box-sizing: border-box;
      line-height: 1;
    }

    .nav-toggle-bar {
      display: block;
      width: 22px;
      height: 2px;
      background: #fff;
      margin: 4px 0;
    }

    .year-heading {
      margin: 20px 0 10px;
      border-bottom: 1px solid #ddd;
    }

    /* Card-ish tiles */
    .gi {
      margin-bottom: 12px;
    }

    .gi .tile {
      background: #fff;
      border: 1px solid #eee;
      border-radius: 4px;
      overflow: hidden;
      height: 100%;
    }

    .gi .thumb-wrap {
      position: relative;
      aspect-ratio: 4/3;
      background: #fafafa;
    }

    .gi img.thumb {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .gi .tile-body {
      padding: 8px 10px;
    }

    .gi .title {
      font-weight: 600;
      line-height: 1.25;
      margin: 0 0 4px;
    }

    .gi .meta {
      color: #666;
      font-size: 12px;
      margin-bottom: 6px;
    }

    .gi .labels .label {
      margin-right: 6px;
      margin-bottom: 4px;
      display: inline-block;
    }

    .play-badge {
      position: absolute;
      right: 8px;
      bottom: 8px;
      background: rgba(0, 0, 0, .6);
      color: #fff;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 12px;
    }

    /* Modal media */
    #mediaModal .modal-body {
      max-height: 72vh;
      overflow-y: auto;
    }

    #mediaModal .modal-media {
      width: 100%;
      height: auto;
    }

    #mediaModal .caption {
      margin-top: 8px;
      color: #555;
    }

    #mediaModal .credit {
      font-size: 12px;
      color: #777;
    }

    @media (max-width: 767px) {
      .gallery-toolbar .form-inline>input,
      .gallery-toolbar .form-inline>select,
      .gallery-toolbar .form-inline>button {
        display: block;
        width: 100%;
        margin-right: 0;
      }

      .gi .tile-body {
        padding: 8px;
      }

      #mediaModal .modal-body {
        max-height: none;
      }

      .masthead .navbar-inner {
        position: relative;
        padding: 16px 12px 12px;
      }

      .nav-toggle {
        display: block;
        position: absolute;
        top: 12px;
        right: 12px;
        width: auto;
        padding: 8px 12px;
        background: #08c;
      }

      .masthead .nav {
        display: none !important;
        float: none;
        width: 100%;
        margin: 44px 0 0;
        border: 1px solid #e5e5e5;
        border-radius: 4px;
        background: #fff;
        box-sizing: border-box;
        list-style: none;
        padding: 0;
        flex-direction: column;
      }

      .masthead .nav.open {
        display: flex !important;
      }

      .masthead .nav>li {
        float: none;
        border-top: 1px solid #e5e5e5;
        width: 100%;
      }

      .masthead .nav>li:first-child {
        border-top: 0;
      }

      .masthead .nav>li>a {
        display: block;
        padding: 12px 14px;
        line-height: 1.4;
      }

      .subhead h1 {
        font-size: 1.3rem;
      }

      .subhead .lead {
        font-size: 1rem;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <header class="jumbotron subhead" id="overview">
      <h1>Artificial Intelligence Robotics and Control Systems Laboratory (AIRoCS)</h1>
      <p class="lead">Mohamed bin Zayed University of Artificial Intelligence</p>
    </header>

    <div class="masthead">
      <div class="navbar">
        <div class="navbar-inner">
          <div class="container">
            <button type="button" class="nav-toggle" aria-expanded="false" aria-controls="primary-nav" aria-label="Toggle navigation">
              <span class="nav-toggle-bar"></span>
              <span class="nav-toggle-bar"></span>
              <span class="nav-toggle-bar"></span>
            </button>
            <ul class="nav" id="primary-nav">
              <li><a href="index.html">Home</a></li>
              <li><a href="people.html">People</a></li>
              <li><a href="research.html">Research</a></li>
              <li><a href="publications.html">Publications</a></li>
              <li class="active"><a href="#">Gallery</a></li>
              <li><a href="news.html">News</a></li>
              <li><a href="teaching.html">Teaching</a></li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <hr>

    <!-- Controls -->
    <div class="gallery-toolbar">
      <form class="form-inline controls">
        <input id="searchInput" type="text" class="input-xxlarge" placeholder="Search title, people.">
        <select id="yearFilter" class="input-small">
          <option value="all">All years</option>
        </select>
        <select id="typeFilter" class="input-medium">
          <option value="all">All types</option>
          <option value="photo">Photo</option>
          <option value="video">Video</option>
          <option value="demo">Demo</option>
        </select>
        <button id="clearBtn" type="button" class="btn">Clear</button>
      </form>
    </div>

    <!-- ===================== 2025 ===================== -->
    <h3 class="year-heading" data-year-heading="2025">2025</h3>
    <div class="row-fluid" data-year-row="2025">
      <!-- Aerial manipulation photo -->
      <!-- <div class="span3 gi" data-year="2025" data-type="photo" data-tags="aerial manipulation, quadrotor, lab" data-title="Aerial manipulation platform">
          <div class="tile">
            <a href="#" class="gi-link"
               data-kind="image"
               data-full="images/aerial_manipulation_full.jpg"
               data-download="images/aerial_manipulation_full.jpg"
               data-caption="Learning-based control enables contact-rich tasks with payload variation."
               data-credit="AIRoCS Lab">
              <div class="thumb-wrap">
                <img class="thumb" src="thumbs/aerial_manipulation.jpg" alt="Aerial manipulation platform close-up" loading="lazy">
              </div>
            </a>
            <div class="tile-body">
              <div class="title">Aerial Manipulation Platform</div>
              <div class="meta">2025 Â· Photo</div>
              <div class="labels">
                <span class="label label-info">Aerial</span>
                <span class="label label-success">Manipulation</span>
              </div>
            </div>
          </div>
        </div> -->

      <!-- Vision-Language Navigation (video, e.g., YouTube) -->
      <!-- <div class="span3 gi" data-year="2025" data-type="video" data-tags="vision-language, navigation, icra" data-title="VLN in dynamic environments">
          <div class="tile">
            <a href="#" class="gi-link"
               data-kind="youtube"
               data-embed="https://www.youtube.com/embed/dQw4w9WgXcQ"
               data-caption="Instruction-following amid moving crowds with predictive control."
               data-credit="AIRoCS Lab Â· ICRA 2025">
              <div class="thumb-wrap">
                <img class="thumb" src="thumbs/vln_dynamic.jpg" alt="Agent navigating among people" loading="lazy">
                <span class="play-badge">Play</span>
              </div>
            </a>
            <div class="tile-body">
              <div class="title">Vision-Language Navigation (ICRAâ€™25)</div>
              <div class="meta">2025 Â· Video</div>
              <div class="labels">
                <span class="label label-warning">Vision-Language</span>
                <span class="label">Navigation</span>
              </div>
            </div>
          </div>
        </div> -->

      <!-- Swarm demo (local mp4) -->
      <!-- <div class="span3 gi" data-year="2025" data-type="demo" data-tags="swarms, robustness, wind" data-title="Swarm robustness field test">
          <div class="tile">
            <a href="#" class="gi-link"
               data-kind="video"
               data-src="media/swarm_field_test.mp4"
               data-caption="Distributionally robust policies maintain formation under gusts."
               data-credit="AIRoCS Lab">
              <div class="thumb-wrap">
                <img class="thumb" src="thumbs/swarm_rl.jpg" alt="Multi-rotor swarm in outdoor test" loading="lazy">
                <span class="play-badge">Play</span>
              </div>
            </a>
            <div class="tile-body">
              <div class="title">Swarm Robustness â€” Field Test</div>
              <div class="meta">2025 Â· Demo</div>
              <div class="labels">
                <span class="label label-inverse">Swarms</span>
                <span class="label label-important">Robustness</span>
              </div>
            </div>
          </div>
        </div> -->

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="Lab Launch">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/LAB_L2.jpeg"
            data-download="images/LAB_L2.jpeg"
            data-caption="Celebrating the opening of the AIRoCS Lab."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/LAB_L2.jpeg" alt="Celebrating the AIRoCS lab launch" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">Lab Launch</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-important">Robotics</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="Honoured to Host His Highness">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/His_Highness.jpg"
            data-download="images/His_Highness.jpg"
            data-caption="Welcoming His Highness for a tour of the AIRoCS lab."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/His_Highness.jpg" alt="His Highness touring the AIRoCS lab" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">Honoured to Host His Highness</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-success">Leadership</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="IROS 2025 Presentation">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/iros_2025.jpeg"
            data-download="images/iros_2025.jpeg"
            data-caption="Sharing AIRoCS research at IROS 2025."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/iros_2025.jpeg" alt="Presenting at IROS 2025 in Abu Dhabi" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">IROS 2025 Presentation</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-inverse">IROS</span>
              <span class="label label-important">Award</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="Robot Lab Testing Day">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/abdalla_with_robots.jpg"
            data-download="images/abdalla_with_robots.jpg"
            data-caption="Hands-on testing with collaborative manipulators."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/abdalla_with_robots.jpg" alt="Collaborative robots undergoing testing in the AIRoCS lab" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">Robot Lab Testing Day</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-info">Robotics</span>
              <span class="label">Lab</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="Team Gathering at MBZUAI">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/AIROC.jpeg"
            data-download="images/AIROC.jpeg"
            data-caption="The AIRoCS team together on campus."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/AIROC.jpeg" alt="AIRoCS lab team gathered on the MBZUAI staircase" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">Abu-Dhabi Robotics Conference</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-success">Team</span>
              <span class="label">Community</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="Dana White Visits AIRoCS Lab">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/img5.jpg"
            data-download="images/img5.jpg"
            data-caption="Dana White touring the AIRoCS lab facilities."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/img5.jpg" alt="Dana White touring the AIRoCS lab" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">Dana White Visit</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-info">Guests</span>
              <span class="label label-important">Special Visit</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="Dana White Engages with AIRoCS Team">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/img27.jpg"
            data-download="images/img27.jpg"
            data-caption="Dana White discussing robotics with AIRoCS researchers."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/img27.jpg" alt="Dana White speaking with researchers in the AIRoCS lab" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">Dana White Visit</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-info">Guests</span>
              <span class="label label-success">Collaboration</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="UGRIP Group Project">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/ugrip.jpg"
            data-download="images/ugrip.jpg"
            data-caption="Presenting the UGRIP capstone project at AIRoCS."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/ugrip.jpg" alt="UGRIP group presenting their project at the AIRoCS lab" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">UGRIP Group Project</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-info">UGRIP</span>
              <span class="label label-success">Project</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2025" data-type="photo" data-title="UGRIP Mentoring Session">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/UGRIP_MENTORING.jpg"
            data-download="images/UGRIP_MENTORING.jpg"
            data-caption="Mentoring UGRIP students on robotics research topics."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/UGRIP_MENTORING.jpg" alt="UGRIP students receiving mentoring in the AIRoCS lab" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">UGRIP Mentoring</div>
            <div class="meta">2025 &middot; Photo</div>
            <div class="labels">
              <span class="label label-info">UGRIP</span>
              <span class="label label-important">Mentoring</span>
            </div>
          </div>
        </div>
      </div>

    </div>


    <!-- ===================== 2024 ===================== -->
    <h3 class="year-heading" data-year-heading="2024">2024</h3>
    <div class="row-fluid" data-year-row="2024">
      <div class="span4 gi" data-year="2024" data-type="photo" data-title="IEEE ICRA 2024 Recognition">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/icra_2024_abdalla.jpg"
            data-download="images/icra_2024_abdalla.jpg"
            data-caption="Award presentation at IEEE ICRA 2024 in Yokohama, Japan."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/icra_2024_abdalla.jpg" alt="Award presentation at IEEE ICRA 2024 in Yokohama" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">IEEE ICRA 2024 Recognition</div>
            <div class="meta">2024 &middot; Photo</div>
            <div class="labels">
              <span class="label label-warning">ICRA</span>
              <span class="label label-important">Award</span>
            </div>
          </div>
        </div>
      </div>

      <div class="span4 gi" data-year="2024" data-type="photo" data-title="IROS 2024 Selection Certificate">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/iros_2024_abdalla.jpg"
            data-download="images/iros_2024_abdalla.jpg"
            data-caption="Certificate of selection for IROS 2024 in Abu Dhabi."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/iros_2024_abdalla.jpg" alt="Certificate of selection for IROS 2024 in Abu Dhabi" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">IROS 2024 Selection Certificate</div>
            <div class="meta">2024 &middot; Photo</div>
            <div class="labels">
              <span class="label label-inverse">IROS</span>
              <span class="label label-success">Recognition</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===================== 2023 ===================== -->
    <h3 class="year-heading" data-year-heading="2023">2023</h3>
    <div class="row-fluid" data-year-row="2023">
      <div class="span4 gi" data-year="2023" data-type="photo" data-title="CDC 2023 Award Ceremony">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/cdc_2023_abdalla.jpg"
            data-download="images/cdc_2023_abdalla.jpg"
            data-caption="Honored at the CDC 2023 award ceremony."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/cdc_2023_abdalla.jpg" alt="Awardees on stage at the CDC 2023 ceremony" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">CDC 2023 Award Ceremony</div>
            <div class="meta">2023 &middot; Photo</div>
            <div class="labels">
              <span class="label label-info">CDC</span>
              <span class="label label-important">Award</span>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="span4 gi" data-year="2023" data-type="photo" data-title="CDC 2023 Best Paper Award">
        <div class="tile">
          <a href="#" class="gi-link"
            data-kind="image"
            data-full="images/cdc_2023_award.jpg"
            data-download="images/cdc_2023_award.jpg"
            data-caption="Celebrating the CDC 2023 Best Paper Award."
            data-credit="AIRoCS Lab">
            <div class="thumb-wrap">
              <img class="thumb" src="images/cdc_2023_award.jpg" alt="Holding the CDC 2023 Best Paper Award plaque" loading="lazy">
            </div>
          </a>
          <div class="tile-body">
            <div class="title">CDC 2023 Best Paper Award</div>
            <div class="meta">2023 &middot; Photo</div>
            <div class="labels">
              <span class="label label-info">CDC</span>
              <span class="label label-success">Recognition</span>
            </div>
          </div>
        </div>
      </div> -->
    </div>

    <p><a href="#top">Back to top &uarr;</a></p>

    <hr>
  </div>

  <footer id="footer">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span5">
          <h3>Contact Information</h3>
          <p><b>Email:</b> <a href="mailto:Abdalla.Swikir@mbzuai.ac.ae">Abdalla.Swikir@mbzuai.ac.ae</a></p>
          <p><b>Office Hours: </b>Monday-Friday (9.00am-5.00pm)</p>

        </div>
        <div class="span2">
          <a href="https://abdallaswikirrobotlab.github.io/Robot_Lab_Website/">
            <img src="thumbs/AIRoCS_logo.jpg" alt="AIRoCS lab logo" />
          </a>
        </div>
        <div class="span5">
          <h3>Address</h3>
          <p>AIRoCS Laboratory<br>Masdar City - SE45 05<br>Abu Dhabi, UAE</p>
          <a href="https://maps.app.goo.gl/gb7csNPpujr68AkG7">Show Map</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Modal -->
  <div id="mediaModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="mediaTitle"
    aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">Ã—</button>
      <h3 id="mediaTitle">Preview</h3>
    </div>
    <div class="modal-body">
      <!-- Media injected here -->
    </div>
    <div class="modal-footer">
      <a id="downloadLink" class="btn" href="#" download>Download</a>
      <a id="prevBtn" class="btn">&larr; Prev</a>
      <a id="nextBtn" class="btn">Next &rarr;</a>
      <a class="btn btn-primary" data-dismiss="modal">Close</a>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="js/jquery-1.9.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script>
    // Lightweight nav toggle for phones
    (function () {
      var $nav = $('#primary-nav');
      var $toggle = $('.nav-toggle');

      function syncState() {
        var isDesktop = $(window).width() > 767;
        if (isDesktop) {
          $nav.removeClass('open');
          $toggle.attr('aria-expanded', true);
        } else {
          $toggle.attr('aria-expanded', $nav.hasClass('open'));
        }
      }

      $toggle.on('click', function () {
        var isOpen = $nav.toggleClass('open').hasClass('open');
        $(this).attr('aria-expanded', isOpen);
      });

      $(window).on('resize orientationchange', syncState);
      syncState();
    })();

    (function () {
      function norm(s) {
        return (s || '').toString().toLowerCase();
      }

      function populateYearFilter() {
        var years = {};
        $('.gi').each(function () {
          var year = $(this).data('year');
          if (year) { years[year] = true; }
        });

        var yearList = Object.keys(years).sort(function (a, b) { return b - a; });
        var $yearSelect = $('#yearFilter');
        $yearSelect.find('option:not([value="all"])').remove();
        yearList.forEach(function (y) {
          $yearSelect.append('<option value="' + y + '">' + y + '</option>');
        });
        $yearSelect.val('all');
      }

      function updateYearSections() {
        $('[data-year-row]').each(function () {
          var $row = $(this);
          var yearKey = $row.data('year-row');
          var $heading = $('[data-year-heading="' + yearKey + '"]');
          var hasVisible = $row.children('.gi').filter(function () {
            return $(this).data('isVisible');
          }).length > 0;

          if ($heading.length) {
            if (hasVisible) { $heading.show(); } else { $heading.hide(); }
          }

          if (hasVisible) {
            $row.show();
          } else {
            $row.hide();
          }
        });
      }

      function applyFilters() {
        var query = norm($('#searchInput').val());
        var year = $('#yearFilter').val();
        var type = $('#typeFilter').val();

        $('.gi').each(function () {
          var $it = $(this);
          var itemYear = $it.data('year');
          var matchesYear = (year === 'all') || (itemYear && itemYear.toString() === year);
          var matchesType = (type === 'all') || (norm($it.data('type')) === norm(type));
          var text = norm(($it.data('title') || '') + ' ' + $it.text());
          var matchesQuery = !query || text.indexOf(query) !== -1;
          var isVisible = matchesYear && matchesType && matchesQuery;

          $it.toggle(isVisible).data('isVisible', isVisible);
        });

        updateYearSections();
      }

      function clearFilters() {
        $('#searchInput').val('');
        $('#yearFilter').val('all');
        $('#typeFilter').val('all');
        applyFilters();
      }

      function wireFilters() {
        populateYearFilter();
        applyFilters();

        $('#searchInput').on('keyup', applyFilters);
        $('#yearFilter, #typeFilter').on('change', applyFilters);
        $('#clearBtn').on('click', clearFilters);
      }

      wireFilters();

      /* ---------- Modal viewer with keyboard navigation ---------- */
      var currentIndex = -1;

      function visibleItems() {
        return $('.gi:visible .gi-link').get();
      }

      function openAt(index) {
        var items = visibleItems();
        if (!items.length) return;
        if (index < 0) index = items.length - 1;
        if (index >= items.length) index = 0;
        currentIndex = index;

        var $a = $(items[currentIndex]);
        var $card = $a.closest('.gi');
        var title = $card.data('title') || 'Preview';
        var kind = $a.data('kind'); // image | video | youtube
        var caption = $a.data('caption') || '';
        var credit = $a.data('credit') || '';
        var $body = $('#mediaModal .modal-body').empty();
        $('#mediaTitle').text(title);

        // Build media element
        if (kind === 'image') {
          var src = $a.data('full');
          $('<img>', { class: 'modal-media', alt: title }).attr('src', src).appendTo($body);
          $('#downloadLink').show().attr('href', $a.data('download') || src);
        } else if (kind === 'video') {
          var vsrc = $a.data('src');
          var $vid = $('<video>', { class: 'modal-media', controls: true, playsinline: true });
          $('<source>').attr('src', vsrc).attr('type', 'video/mp4').appendTo($vid);
          $vid.appendTo($body);
          $('#downloadLink').show().attr('href', vsrc);
        } else if (kind === 'youtube') {
          var embed = $a.data('embed');
          var $iframe = $('<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;"><iframe allowfullscreen frameborder="0" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div>');
          $iframe.find('iframe').attr('src', embed);
          $body.append($iframe);
          $('#downloadLink').hide();
        } else {
          $body.text('Unsupported media type.');
          $('#downloadLink').hide();
        }

        // Caption & credit
        if (caption || credit) {
          $('<div class="caption">').text(caption).appendTo($body);
          if (credit) $('<div class="credit">').text(credit).appendTo($body);
        }

        $('#mediaModal').modal('show');
      }

      // Click to open
      $(document).on('click', '.gi-link', function (e) {
        e.preventDefault();
        var items = visibleItems();
        var idx = items.indexOf(this);
        openAt(idx);
      });

      // Prev/Next buttons
      $('#prevBtn').on('click', function () { openAt(currentIndex - 1); });
      $('#nextBtn').on('click', function () { openAt(currentIndex + 1); });

      // Keyboard navigation while modal is open
      $('#mediaModal').on('shown', function () {
        $(document).on('keydown.galleryNav', function (e) {
          if (e.which === 37) { $('#prevBtn').click(); } // left
          if (e.which === 39) { $('#nextBtn').click(); } // right
          if (e.which === 27) { $('#mediaModal').modal('hide'); } // esc
        });
      }).on('hidden', function () {
        $(document).off('keydown.galleryNav');
        $('#mediaModal .modal-body').empty();
      });
    })();
  </script>
</body>

</html>

